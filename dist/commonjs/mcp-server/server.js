"use strict";
/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */
Object.defineProperty(exports, "__esModule", { value: true });
exports.createMCPServer = createMCPServer;
const mcp_js_1 = require("@modelcontextprotocol/sdk/server/mcp.js");
const core_js_1 = require("../core.js");
const resources_js_1 = require("./resources.js");
const scopes_js_1 = require("./scopes.js");
const tools_js_1 = require("./tools.js");
const version1EnginesFetchList_js_1 = require("./tools/version1EnginesFetchList.js");
const version1ImageGenerateFromImageWithText_js_1 = require("./tools/version1ImageGenerateFromImageWithText.js");
const version1ImageGenerateFromImageWithTextAndMask_js_1 = require("./tools/version1ImageGenerateFromImageWithTextAndMask.js");
const version1ImageGenerateFromText_js_1 = require("./tools/version1ImageGenerateFromText.js");
const version1UserFetchAccount_js_1 = require("./tools/version1UserFetchAccount.js");
const version1UserFetchBalance_js_1 = require("./tools/version1UserFetchBalance.js");
function createMCPServer(deps) {
    const server = new mcp_js_1.McpServer({
        name: "StabilityAIClient",
        version: "0.1.1",
    });
    const client = new core_js_1.StabilityAIClientCore({
        stabilityApiKey: deps.stabilityApiKey,
        serverURL: deps.serverURL,
        serverIdx: deps.serverIdx,
    });
    const scopes = new Set(deps.scopes ?? scopes_js_1.mcpScopes);
    const allowedTools = deps.allowedTools && new Set(deps.allowedTools);
    const tool = (0, tools_js_1.createRegisterTool)(deps.logger, server, client, scopes, allowedTools);
    const resource = (0, resources_js_1.createRegisterResource)(deps.logger, server, client, scopes);
    const resourceTemplate = (0, resources_js_1.createRegisterResourceTemplate)(deps.logger, server, client, scopes);
    const register = { tool, resource, resourceTemplate };
    void register; // suppress unused warnings
    tool(version1ImageGenerateFromText_js_1.tool$version1ImageGenerateFromText);
    tool(version1ImageGenerateFromImageWithText_js_1.tool$version1ImageGenerateFromImageWithText);
    tool(version1ImageGenerateFromImageWithTextAndMask_js_1.tool$version1ImageGenerateFromImageWithTextAndMask);
    tool(version1EnginesFetchList_js_1.tool$version1EnginesFetchList);
    tool(version1UserFetchAccount_js_1.tool$version1UserFetchAccount);
    tool(version1UserFetchBalance_js_1.tool$version1UserFetchBalance);
    return server;
}
//# sourceMappingURL=server.js.map